(this["webpackJsonpcinema-plus-client"]=this["webpackJsonpcinema-plus-client"]||[]).push([[28],{455:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return ge}));var r=t(0),n=t.n(r),o=t(24),l=t(205),i=t(6),c=t(8),s=t.n(c),m=t(143),d=t(284),g=t(285),p=t(37),u=t(251),h=t(286),E=t.n(h),v=t(59),f=t.n(v);const b=Object(m.a)(e=>({root:{height:"100%"},content:{alignItems:"center",display:"flex"},title:{fontWeight:700},avatar:{backgroundColor:e.palette.success.main,height:56,width:56},icon:{height:32,width:32},difference:{marginTop:e.spacing(2),display:"flex",alignItems:"center"},differenceIcon:{color:e.palette.success.dark},differenceValue:{color:e.palette.success.dark,marginRight:e.spacing(1)}}));var y=e=>{const{className:a,users:t}=e,r=b();return n.a.createElement(d.a,{className:s()(r.root,a)},n.a.createElement(g.a,null,n.a.createElement(l.a,{container:!0,justify:"space-between"},n.a.createElement(l.a,{item:!0},n.a.createElement(p.a,{className:r.title,color:"textSecondary",gutterBottom:!0,variant:"body2"},"TOTAL USERS"),n.a.createElement(p.a,{variant:"h3"},t)),n.a.createElement(l.a,{item:!0},n.a.createElement(u.a,{className:r.avatar},n.a.createElement(f.a,{className:r.icon})))),n.a.createElement("div",{className:r.difference},n.a.createElement(E.a,{className:r.differenceIcon}),n.a.createElement(p.a,{className:r.differenceValue,variant:"body2"},"16%"),n.a.createElement(p.a,{className:r.caption,variant:"caption"},"Since last month"))))},x=t(253),N=t.n(x),F=t(252),k=t.n(F);const C=Object(m.a)(e=>({root:{height:"100%"},content:{alignItems:"center",display:"flex"},title:{fontWeight:700},avatar:{backgroundColor:e.palette.error.main,height:56,width:56},icon:{height:32,width:32},difference:{marginTop:e.spacing(2),display:"flex",alignItems:"center"},differenceIcon:{color:e.palette.error.dark},differenceValue:{color:e.palette.error.dark,marginRight:e.spacing(1)}}));var w=e=>{const{className:a,cinemas:t}=e,r=C();return n.a.createElement(d.a,{className:s()(r.root,a)},n.a.createElement(g.a,null,n.a.createElement(l.a,{container:!0,justify:"space-between"},n.a.createElement(l.a,{item:!0},n.a.createElement(p.a,{className:r.title,color:"textSecondary",gutterBottom:!0,variant:"body2"},"TOTAL CINEMAS"),n.a.createElement(p.a,{variant:"h3"},t)),n.a.createElement(l.a,{item:!0},n.a.createElement(u.a,{className:r.avatar},n.a.createElement(k.a,{className:r.icon})))),n.a.createElement("div",{className:r.difference},n.a.createElement(N.a,{className:r.differenceIcon}),n.a.createElement(p.a,{className:r.differenceValue,variant:"body2"},"16%"),n.a.createElement(p.a,{className:r.caption,variant:"caption"},"Since last month"))))};const I=Object(m.a)(e=>({root:{height:"100%"},content:{alignItems:"center",display:"flex"},title:{fontWeight:700},avatar:{backgroundColor:e.palette.error.main,height:56,width:56},icon:{height:32,width:32},difference:{marginTop:e.spacing(2),display:"flex",alignItems:"center"},differenceIcon:{color:e.palette.error.dark},differenceValue:{color:e.palette.error.dark,marginRight:e.spacing(1)}}));var T=e=>{const{className:a,movies:t}=e,r=I();return n.a.createElement(d.a,{className:s()(r.root,a)},n.a.createElement(g.a,null,n.a.createElement(l.a,{container:!0,justify:"space-between"},n.a.createElement(l.a,{item:!0},n.a.createElement(p.a,{className:r.title,color:"textSecondary",gutterBottom:!0,variant:"body2"},"TOTAL MOVIES"),n.a.createElement(p.a,{variant:"h3"},t)),n.a.createElement(l.a,{item:!0},n.a.createElement(u.a,{className:r.avatar},n.a.createElement(k.a,{className:r.icon})))),n.a.createElement("div",{className:r.difference},n.a.createElement(N.a,{className:r.differenceIcon}),n.a.createElement(p.a,{className:r.differenceValue,variant:"body2"},"16%"),n.a.createElement(p.a,{className:r.caption,variant:"caption"},"Since last month"))))},B=t(287),O=t.n(B);const j=Object(m.a)(e=>({root:{height:"100%",backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},content:{alignItems:"center",display:"flex"},title:{fontWeight:700},avatar:{backgroundColor:e.palette.white,color:e.palette.primary.main,height:56,width:56},icon:{height:32,width:32}}));var A=e=>{const{className:a,reservations:t}=e,r=j();return n.a.createElement(d.a,{className:s()(r.root,a)},n.a.createElement(g.a,null,n.a.createElement(l.a,{container:!0,justify:"space-between"},n.a.createElement(l.a,{item:!0},n.a.createElement(p.a,{className:r.title,color:"inherit",gutterBottom:!0,variant:"body2"},"TOTAL RESERVATIONS"),n.a.createElement(p.a,{color:"inherit",variant:"h3"},t)),n.a.createElement(l.a,{item:!0},n.a.createElement(u.a,{className:r.avatar},n.a.createElement(O.a,{className:r.icon}))))))},S=t(254),D=t(443),M=t(141),R=t(186),L=t(444),V=t(381),W=t.n(V),z=t(382),U=t.n(z),P=t(169),J=t(170),Z=t(171),_=t(61),q=t(442);var G={type:"light",common:{black:"#000",white:"#FFF",commonBackground:"#FFF",contrastText:"#000",neutral:"#E4E7EB",muted:"#9EA0A4"},default:{light:"rgba(41, 150, 243, .1)",main:"rgba(0, 40, 73, .9)",dark:"rgb(0, 40, 73)",logoBg:"rgb(51, 51, 51)",border:"rgba(0, 40, 73, .1)",contrastText:"#FFF"},primary:{contrastText:"#FFF",main:"#0767DB",light:"#F6F9FD",dark:"#0B48A0"},secondary:{contrastText:"#FFF",main:"#7d58ff",light:"",dark:"#37248F"},success:{light:P.a[300],main:P.a[500],dark:P.a[700],contrastText:"#FFF"},info:{light:J.a[300],main:J.a[500],dark:J.a[700],contrastText:"#FFF"},warning:{light:Z.a[300],main:Z.a[500],dark:Z.a[700],contrastText:"#FFF"},danger:{light:_.a[300],main:_.a[500],dark:_.a[700],contrastText:"#FFF"},text:{primary:q.a[900],secondary:q.a[600],link:J.a[600]},background:{default:"#f8fafc",dark:"rgb(26, 26, 26)",paper:"#FFF"},border:"#DFE3E8",divider:"#DFE3E8",oxfordBlue:"rgba(5, 41, 73, 1)",prussianBlue:"rgba(19, 49, 92, 1)",darkCerulean:"rgba(19, 64, 116, 1)",pewterBlue:"rgba(141, 169, 196, 1)",isabelline:"rgba(238, 244, 237, 1)"};G.primary.main;const H={responsive:!0,maintainAspectRatio:!1,animation:!1,legend:{display:!1},cornerRadius:20,tooltips:{enabled:!0,mode:"index",intersect:!1,borderWidth:1,borderColor:G.divider,backgroundColor:G.white,titleFontColor:G.text.primary,bodyFontColor:G.text.secondary,footerFontColor:G.text.secondary},layout:{padding:0},scales:{xAxes:[{barThickness:12,maxBarThickness:10,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:G.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:G.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:G.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:G.divider}}]}},K=Object(m.a)(()=>({root:{},chartContainer:{height:400,position:"relative"},actions:{justifyContent:"flex-end"}}));var Q=e=>{const{className:a,bestMovies:t}=e,r=K(),o={labels:t.map(e=>e.movie.title.toUpperCase()),datasets:[{label:"This year",backgroundColor:G.primary.main,data:t.map(e=>e.count)},{label:"Last year",backgroundColor:G.neutral,data:[11,20,12,29,30]}]};return n.a.createElement(d.a,{className:s()(r.root,a)},n.a.createElement(D.a,{action:n.a.createElement(M.a,{size:"small",variant:"text"},"Best 5",n.a.createElement(W.a,null)),title:"Best Movies"}),n.a.createElement(R.a,null),n.a.createElement(g.a,null,n.a.createElement("div",{className:r.chartContainer},n.a.createElement(S.Bar,{data:o,options:H}))),n.a.createElement(R.a,null),n.a.createElement(L.a,{className:r.actions},n.a.createElement(M.a,{color:"primary",size:"small",variant:"text"},"Overview ",n.a.createElement(U.a,null))))},X=t(68),Y=t(194),$=t(383),ee=t.n($),ae=t(385),te=t.n(ae),re=t(386),ne=t.n(re),oe=t(384),le=t.n(oe);const ie=Object(m.a)(e=>({root:{height:"100%"},chartContainer:{position:"relative",height:"300px"},stats:{marginTop:e.spacing(2),display:"flex",justifyContent:"center"},device:{textAlign:"center",padding:e.spacing(1)},deviceIcon:{color:e.palette.icon}}));var ce=e=>{const{className:a,...t}=e,r=ie(),o=Object(X.a)(),l={datasets:[{data:[63,15,22],backgroundColor:[o.palette.primary.main,o.palette.error.main,o.palette.warning.main],borderWidth:8,borderColor:o.palette.white,hoverBorderColor:o.palette.white}],labels:["Desktop","Tablet","Mobile"]},i={legend:{display:!1},responsive:!0,maintainAspectRatio:!1,animation:!1,cutoutPercentage:80,layout:{padding:0},tooltips:{enabled:!0,mode:"index",intersect:!1,borderWidth:1,borderColor:o.palette.divider,backgroundColor:o.palette.white,titleFontColor:o.palette.text.primary,bodyFontColor:o.palette.text.secondary,footerFontColor:o.palette.text.secondary}},c=[{title:"Desktop",value:"63",icon:n.a.createElement(ee.a,null),color:o.palette.primary.main},{title:"Tablet",value:"15",icon:n.a.createElement(le.a,null),color:o.palette.error.main},{title:"Mobile",value:"23",icon:n.a.createElement(te.a,null),color:o.palette.warning.main}];return n.a.createElement(d.a,Object.assign({},t,{className:s()(r.root,a)}),n.a.createElement(D.a,{action:n.a.createElement(Y.a,{size:"small"},n.a.createElement(ne.a,null)),title:"Users By Device"}),n.a.createElement(R.a,null),n.a.createElement(g.a,null,n.a.createElement("div",{className:r.chartContainer},n.a.createElement(S.Doughnut,{data:l,options:i})),n.a.createElement("div",{className:r.stats},c.map(e=>n.a.createElement("div",{className:r.device,key:e.title},n.a.createElement("span",{className:r.deviceIcon},e.icon),n.a.createElement(p.a,{variant:"body1"},e.title),n.a.createElement(p.a,{style:{color:e.color},variant:"h2"},e.value,"%"))))))},se=t(40);class me extends r.Component{constructor(){super(...arguments),this.getBestMovies=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=e.map(a=>({movieId:a.movieId,count:e.filter(e=>e.movieId===a.movieId).length})),n=[],o=new Map;for(const l of r)o.has(l.movieId)||(o.set(l.movieId,!0),n.push({movieId:l.movieId,count:l.count}));return n.sort((e,a)=>a.count-e.count).slice(0,t).map(e=>({movie:a.find(a=>a._id===e.movieId),count:e.count}))}}componentDidMount(){this.props.getUsers(),this.props.getCinemas(),this.props.getMovies(),this.props.getReservations()}render(){const{classes:e,users:a,cinemas:t,movies:r,reservations:o}=this.props;return n.a.createElement("div",{className:e.root},n.a.createElement(l.a,{container:!0,spacing:4},n.a.createElement(l.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(y,{users:a.length})),n.a.createElement(l.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(w,{cinemas:t.length})),n.a.createElement(l.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(T,{movies:r.length})),n.a.createElement(l.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(A,{reservations:o.length})),n.a.createElement(l.a,{item:!0,lg:8,md:12,xl:9,xs:12},n.a.createElement(Q,{bestMovies:this.getBestMovies(o,r,5)})),n.a.createElement(l.a,{item:!0,lg:4,md:6,xl:3,xs:12},n.a.createElement(ce,null))))}}const de={getUsers:se.r,getCinemas:se.j,getMovies:se.n,getReservations:se.o};var ge=Object(o.b)(e=>{let{userState:a,cinemaState:t,movieState:r,reservationState:n}=e;return{users:a.users,cinemas:t.cinemas,movies:r.movies,reservations:n.reservations}},de)(Object(i.a)(e=>({root:{textAlign:"center",padding:e.spacing(4)}}))(me))}}]);
//# sourceMappingURL=28.104fb009.chunk.js.map